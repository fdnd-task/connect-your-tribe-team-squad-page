{% render 'partials/head.liquid' %}

<section class="squadpage width-top-btm">
  <a href="/logout" class="logout">logout</a>
  <h1>Squadpage Squad 1G</h1>

  <p class="label-filter">Filtering</p>

  <details class="dropdown">
    <summary>Filter op likes</summary>
    <ul class="menu-dropdown">
      <li><a href="##">Likes hoog - laag</a></li>
      <li><a href="##">Likes laag - hoog</a></li>
    </ul>
  </details>

  <ul id="person-list">
    {% for person in persons %}
    <li>
      <article class="student glass" data-url="/student/{{ person.id }}">
        <a href=""></a>
        <img class="avatar" src="{{ person.avatar | default: '/assets/default-user-avatar.svg' }}" alt="">
        <h2>{{ person.name }}</h2>
        <p>{{ person.bio | default: "Eerstejaars FDND student aan de HVA." | truncatewords: 20 }}</p>

        <div class="buttons">
          <a target="_blank" class="visitekaartje-link" href="/student/{{ person.id }}"><svg width="25" height="20"
              viewBox="0 0 25 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M22.6875 0.125C23.8047 0.125 24.75 1.07031 24.75 2.1875V17.3125C24.75 18.4727 23.8047 19.375 22.6875 19.375H2.0625C0.902344 19.375 0 18.4727 0 17.3125V2.1875C0 1.07031 0.902344 0.125 2.0625 0.125H22.6875ZM22.6875 17.3125V4.9375H2.0625V17.3125H3.4375C3.39453 17.1406 3.4375 17.4844 3.4375 16.3672C3.4375 14.9922 4.72656 13.875 6.31641 13.875C6.78906 13.875 7.08984 14.2188 8.25 14.2188C9.36719 14.2188 9.71094 13.875 10.1406 13.875C11.7305 13.875 13.0625 14.9922 13.0625 16.3672C13.0625 17.4844 13.0625 17.1406 13.0195 17.3125H22.6875ZM15.4688 13.875C15.2539 13.875 15.125 13.7461 15.125 13.5312V12.8438C15.125 12.6719 15.2539 12.5 15.4688 12.5H20.2812C20.4531 12.5 20.625 12.6719 20.625 12.8438V13.5312C20.625 13.7461 20.4531 13.875 20.2812 13.875H15.4688ZM15.4688 11.125C15.2539 11.125 15.125 10.9961 15.125 10.7812V10.0938C15.125 9.92188 15.2539 9.75 15.4688 9.75H20.2812C20.4531 9.75 20.625 9.92188 20.625 10.0938V10.7812C20.625 10.9961 20.4531 11.125 20.2812 11.125H15.4688ZM15.4688 8.375C15.2539 8.375 15.125 8.24609 15.125 8.03125V7.34375C15.125 7.17188 15.2539 7 15.4688 7H20.2812C20.4531 7 20.625 7.17188 20.625 7.34375V8.03125C20.625 8.24609 20.4531 8.375 20.2812 8.375H15.4688ZM8.25 12.5C6.70312 12.5 5.5 11.2969 5.5 9.75C5.5 8.24609 6.70312 7 8.25 7C9.75391 7 11 8.24609 11 9.75C11 11.2969 9.75391 12.5 8.25 12.5Z" />
            </svg></a>

          <a target="_blank" class="github-link glass" href="{{ person.website | default: "
            https://github.com/fdnd-task/connect-your-tribe-squad-page" }}">
            <svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.08984 16.8516C7.08984 16.9375 7.00391 16.9805 6.875 16.9805C6.74609 17.0234 6.66016 16.9375 6.66016 16.8516C6.66016 16.7656 6.74609 16.6797 6.875 16.6797C7.00391 16.6797 7.08984 16.7656 7.08984 16.8516ZM5.75781 16.6367C5.80078 16.5508 5.92969 16.5078 6.05859 16.5508C6.1875 16.5938 6.23047 16.6797 6.23047 16.7656C6.1875 16.8516 6.05859 16.8945 5.97266 16.8516C5.84375 16.8516 5.75781 16.7227 5.75781 16.6367ZM7.69141 16.5938C7.77734 16.5508 7.90625 16.6367 7.90625 16.7227C7.94922 16.8086 7.86328 16.8516 7.73438 16.8945C7.60547 16.9375 7.47656 16.8945 7.47656 16.8086C7.47656 16.6797 7.5625 16.5938 7.69141 16.5938ZM10.4844 0.09375C16.457 0.09375 21.3125 4.64844 21.3125 10.5781C21.3125 15.3477 18.3906 19.4297 14.0938 20.8477C13.5352 20.9766 13.3203 20.6328 13.3203 20.332C13.3203 19.9883 13.3633 18.1836 13.3633 16.7656C13.3633 15.7344 13.0195 15.0898 12.6328 14.7461C15.0391 14.4883 17.5742 14.1445 17.5742 10.0195C17.5742 8.81641 17.1445 8.25781 16.457 7.48438C16.543 7.18359 16.9297 6.06641 16.3281 4.5625C15.4258 4.26172 13.3633 5.72266 13.3633 5.72266C12.5039 5.46484 11.6016 5.37891 10.6562 5.37891C9.75391 5.37891 8.85156 5.46484 7.99219 5.72266C7.99219 5.72266 5.88672 4.30469 5.02734 4.5625C4.42578 6.06641 4.76953 7.18359 4.89844 7.48438C4.21094 8.25781 3.86719 8.81641 3.86719 10.0195C3.86719 14.1445 6.31641 14.4883 8.72266 14.7461C8.37891 15.0469 8.12109 15.5195 8.03516 16.207C7.39062 16.5078 5.84375 16.9805 4.89844 15.3047C4.29688 14.2734 3.22266 14.1875 3.22266 14.1875C2.19141 14.1875 3.17969 14.875 3.17969 14.875C3.86719 15.1758 4.33984 16.4219 4.33984 16.4219C4.98438 18.3555 7.99219 17.7109 7.99219 17.7109C7.99219 18.6133 7.99219 20.0742 7.99219 20.375C7.99219 20.6328 7.82031 20.9766 7.26172 20.8906C2.96484 19.4297 0 15.3477 0 10.5781C0 4.64844 4.55469 0.09375 10.4844 0.09375ZM4.16797 14.918C4.21094 14.875 4.29688 14.918 4.38281 14.9609C4.46875 15.0469 4.46875 15.1758 4.42578 15.2188C4.33984 15.2617 4.25391 15.2188 4.16797 15.1758C4.125 15.0898 4.08203 14.9609 4.16797 14.918ZM3.69531 14.5742C3.73828 14.5312 3.78125 14.5312 3.86719 14.5742C3.95312 14.6172 3.99609 14.6602 3.99609 14.7031C3.95312 14.7891 3.86719 14.7891 3.78125 14.7461C3.69531 14.7031 3.65234 14.6602 3.69531 14.5742ZM5.07031 16.1211C5.15625 16.0352 5.28516 16.0781 5.37109 16.1641C5.45703 16.25 5.45703 16.3789 5.41406 16.4219C5.37109 16.5078 5.24219 16.4648 5.15625 16.3789C5.02734 16.293 5.02734 16.1641 5.07031 16.1211ZM4.59766 15.4766C4.68359 15.4336 4.76953 15.4766 4.85547 15.5625C4.89844 15.6484 4.89844 15.7773 4.85547 15.8203C4.76953 15.8633 4.68359 15.8203 4.59766 15.7344C4.51172 15.6484 4.51172 15.5195 4.59766 15.4766Z" />
            </svg>
          </a>
        </div>
      </article>

      <form action="/like" method="POST">
        <input type="hidden" name="person_id" value="{{ person.id }}">
        <button type="submit" class="like-button">
          <svg width="50" height="50" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
          {% if likes contains person.id %}
            fill="#ff0000" 
          {% else %}
            fill="#ffffff"
          {% endif %}
          stroke="#000" stroke-width="2"/>
          </svg>
        </button>
        <span class="like-counter" id="like-counter-{{ person.id }}">
          {{ likeCounts[person.id] | default: 0 }}
        </span>
      </form>
    </li>
    {% endfor %}
  </ul>

</section>

{% render 'partials/foot.liquid', squads: squads %}

{% comment %} <h1>Zet 'm op team {{ teamName }}!</h1>

<h2>Huidige berichten</h2>

{% for message in messages %}
<p>{{ message.from }}: {{ message.text }} @{{ message.created | date: '%d-%m-%Y %H:%M' }}</p>
{% else %}
<p>Er zijn nog geen berichten voor dit team.</p>
{% endfor %}

<h2>Voeg een bericht toe</h2>
<form method="post" action="/">
  <label>
    Naam:
    <input type="text" name="from" required>
  </label>
  <label>
    Bericht:
    <textarea name="text" required></textarea>
  </label>
  <button type="submit">Verstuur</button>
</form> {% endcomment %}